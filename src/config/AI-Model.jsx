import { GoogleGenerativeAI } from "@google/generative-ai";


const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};

export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                { text: "Generate a Trip itinerary for 5 days trip to  Location : Manali , for couple , within a moderate budget. List all hotels(at least 5) with HotelName , hotel address , price,  hotel image url, geo coordinates, rating , descriptions , and suggest the itinerary with placeName, place details, place image url, geo coordinates, ticket pricing, rating , time taken to travel for each location for 5 days and  with each day plan suggest best time to visit and dont include departure in itinerary , Remember all have to cover in the moderate level budget , also include transportationNotes, foodRecommendations and generalTips at the end for overall. Important: give the result in JSON Format" },
            ],
        },
        {
            role: "model",
            parts: [
                {text: "```json\n{\n  \"tripDetails\": {\n    \"location\": \"Manali, Himachal Pradesh, India\",\n    \"duration\": \"5 Days\",\n    \"budget\": \"Moderate\",\n    \"travelers\": \"Couple\"\n  },\n  \"hotels\": [\n    {\n      \"hotelName\": \"Hotel Mountain Face by Snow City Hotels\",\n      \"hotelAddress\": \"Hadimba Temple Road, Siyal, Manali, Himachal Pradesh 175131, India\",\n      \"price\": \"₹2500 - ₹4000 \",\n      \"hotelImageURL\": \"https://example.com/hotel_mountain_face.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 32.2570,\n        \"longitude\": 77.1750\n      },\n      \"rating\": 4.2,\n      \"description\": \"Offers comfortable rooms with mountain views, a multi-cuisine restaurant, and is close to Hadimba Temple. Good for couples seeking a peaceful retreat.\"\n    },\n    {\n      \"hotelName\": \"The Orchard Greens\",\n      \"hotelAddress\": \"Rangri, Manali, Himachal Pradesh 175103, India\",\n      \"price\": \"₹3000 - ₹5000 \",\n      \"hotelImageURL\": \"https://example.com/the_orchard_greens.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 32.2585,\n        \"longitude\": 77.1867\n      },\n      \"rating\": 4.5,\n      \"description\": \"Surrounded by apple orchards, this hotel offers spacious rooms, excellent service, and a serene atmosphere. Ideal for couples looking for a relaxing getaway.\"\n    },\n    {\n      \"hotelName\": \"Hotel Manali Inn\",\n      \"hotelAddress\": \"The Mall Road, Manali, Himachal Pradesh 175131, India\",\n      \"price\": \"₹2000 - ₹3500 \",\n      \"hotelImageURL\": \"https://example.com/hotel_manali_inn.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 32.2477,\n        \"longitude\": 77.1851\n      },\n      \"rating\": 3.9,\n      \"description\": \"Located on Mall Road, this hotel offers easy access to shopping and dining options. It has comfortable rooms and a decent restaurant.\"\n    },\n    {\n      \"hotelName\": \"Snow Valley Resorts\",\n      \"hotelAddress\": \"Log Hut Area, Manali, Himachal Pradesh 175131, India\",\n      \"price\": \"₹3500 - ₹6000 \",\n      \"hotelImageURL\": \"https://example.com/snow_valley_resorts.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 32.2495,\n        \"longitude\": 77.1712\n      },\n      \"rating\": 4.3,\n      \"description\": \"Offers well-appointed rooms, a spa, and stunning views of the snow-capped mountains. A great option for couples seeking luxury and relaxation.\"\n    },\n     {\n      \"hotelName\": \"Honeymoon Inn Manali\",\n      \"hotelAddress\": \"Left Bank Aleo New Manali, Manali, Himachal Pradesh 175131 India\",\n      \"price\": \"₹2800 - ₹4500 \",\n      \"hotelImageURL\": \"https://example.com/honeymoon_inn_manali.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 32.2469,\n        \"longitude\": 77.1646\n      },\n      \"rating\": 4.0,\n      \"description\": \"As the name suggests, it's a good option for couples , located a bit away from the crowded Mall Road, it offers a quiet environment with all the necessary amenities.\"\n    }\n  ],\n \"itinerary\": [\n   {\n  \"day\": \"Day 1\",\n     \"title\": \"Arrival in Manali and Local Sightseeing\",\n      \"bestTimeToVisit\": \"Afternoon\",\n      \"schedule\": [\n        {\"time\": \"12:00 PM\", \"activity\": \"Arrive in Manali (by bus or car). Check into Hotel.\"},\n        {\"time\": \"02:00 PM\", \"activity\": \"Lunch at a local restaurant (Johnson's Cafe recommended).\"},\n        {\"time\": \"03:30 PM\", \"activity\": \"Visit Hadimba Temple. (₹30 entry fee, Time taken: 1.5 hours).\"},\n        {\n          \"time\": \"05:30 PM\",\n          \"activity\": \"Explore Old Manali (walk, enjoy the cafes and shops).\",\n          \"placeName\": \"Old Manali\",\n          \"placeDetails\": \"Charming village with a laid-back vibe, cafes, and guesthouses.\",\n          \"placeImageURL\": \"https://example.com/old_manali.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 32.2625,\n            \"longitude\": 77.1831\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTakenToTravel\": \"15 minutes from Hadimba Temple\"\n        },\n        {\"time\": \"07:30 PM\", \"activity\": \"Dinner at a cafe in Old Manali (Dylan's Toasted & Roasted is popular).\"},\n        {\"time\": \"09:00 PM\", \"activity\": \"Return to the hotel.\"}\n      ]\n    },\n    {\n  \"day\": \"Day 2\",\n     \"title\": \"Solang Valley Adventure\",\n      \"bestTimeToVisit\": \"Morning to Early Afternoon\",\n      \"schedule\": [\n        {\"time\": \"09:00 AM\", \"activity\": \"Breakfast at the hotel.\"},\n        {\n          \"time\": \"10:00 AM\",\n          \"activity\": \"Travel to Solang Valley (shared taxi/bus).\",\n          \"placeName\": \"Solang Valley\",\n          \"placeDetails\": \"Known for adventure activities like paragliding, zorbing, and skiing (in winter).\",\n          \"placeImageURL\": \"https://example.com/solang_valley.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 32.3222,\n            \"longitude\": 77.1528\n          },\n          \"ticketPricing\": \"Varies based on activity (₹500-₹2000)\",\n          \"rating\": 4.3,\n          \"timeTakenToTravel\": \"45 minutes from Manali\"\n        },\n        {\"time\": \"11:00 AM - 02:00 PM\", \"activity\": \"Enjoy adventure activities in Solang Valley.\"},\n        {\"time\": \"02:00 PM\", \"activity\": \"Lunch at a restaurant in Solang Valley.\"},\n        {\n          \"time\": \"03:00 PM\",\n          \"activity\": \"Visit Anjani Mahadev Temple (short trek).\",\n          \"placeName\": \"Anjani Mahadev Temple\",\n          \"placeDetails\": \"A small temple with a waterfall, a short trek from Solang Valley\",\n           \"placeImageURL\": \"https://example.com/anjani_mahadev.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 32.3205,\n            \"longitude\": 77.1486\n          },\n          \"ticketPricing\": \"Free Entry\",\n          \"rating\": 4.0,\n          \"timeTakenToTravel\": \"30 minutes from Solang Valley (trek)\"\n        },\n        {\"time\": \"05:00 PM\", \"activity\": \"Return to Manali.\"},\n        {\"time\": \"07:30 PM\", \"activity\": \"Dinner at a restaurant in Manali (Casa Bella Vista recommended).\"},\n        {\"time\": \"09:00 PM\", \"activity\": \"Return to the hotel.\"}\n      ]\n    },\n   {\n   \"day\": \"Day 3\",\n    \"title\": \"Kullu and Naggar Exploration\",\n      \"bestTimeToVisit\": \"Full Day\",\n      \"schedule\": [\n        {\"time\": \"09:00 AM\", \"activity\": \"Breakfast at the hotel.\"},\n        {\n          \"time\": \"10:00 AM\",\n          \"activity\": \"Travel to Kullu (shared taxi/bus).\",\n          \"placeName\": \"Kullu\",\n          \"placeDetails\": \"Known for its scenic beauty, temples, and shawl factories.\",\n          \"placeImageURL\": \"https://example.com/kullu.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 31.9599,\n            \"longitude\": 77.1083\n          },\n          \"ticketPricing\": \"Varies depending on activities\",\n          \"rating\": 3.8,\n          \"timeTakenToTravel\": \"1.5 hours from Manali\"\n        },\n        {\"time\": \"11:30 AM\", \"activity\": \"Visit the Kullu Shawl Factory.\"},\n        {\"time\": \"01:00 PM\", \"activity\": \"Lunch at a local restaurant in Kullu.\"},\n        {\n          \"time\": \"02:30 PM\",\n          \"activity\": \"Travel to Naggar.\",\n          \"placeName\": \"Naggar Castle\",\n          \"placeDetails\": \"A historic castle with stunning views and a museum.\",\n          \"placeImageURL\": \"https://example.com/naggar_castle.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 32.1285,\n            \"longitude\": 77.1704\n          },\n          \"ticketPricing\": \"₹30 per person (entry fee)\",\n          \"rating\": 4.1,\n          \"timeTakenToTravel\": \"45 minutes from Kullu\"\n        },\n        {\"time\": \"04:00 PM\", \"activity\": \"Explore Naggar Castle and the Roerich Art Gallery.\"},\n        {\"time\": \"06:00 PM\", \"activity\": \"Return to Manali.\"},\n        {\"time\": \"08:30 PM\", \"activity\": \"Dinner at a restaurant in Manali (The Lazy Dog recommended).\"},\n        {\"time\": \"10:00 PM\", \"activity\": \"Return to the hotel.\"}\n      ]\n    },\n   {\n  \"day\": \"Day 4\",\n     \"title\": \"Manikaran Sahib and Kasol Trip\",\n      \"bestTimeToVisit\": \"Full Day\",\n      \"schedule\": [\n        {\"time\": \"08:00 AM\", \"activity\": \"Early breakfast at the hotel.\"},\n        {\n          \"time\": \"09:00 AM\",\n          \"activity\": \"Travel to Manikaran (shared taxi/bus).\",\n          \"placeName\": \"Manikaran Sahib\",\n          \"placeDetails\": \"A pilgrimage center for Sikhs and Hindus, known for its hot springs.\",\n          \"placeImageURL\": \"https://example.com/manikaran_sahib.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 32.0341,\n            \"longitude\": 77.3441\n          },\n          \"ticketPricing\": \"Free Entry\",\n          \"rating\": 4.4,\n          \"timeTakenToTravel\": \"2 hours from Manali\"\n        },\n        {\"time\": \"11:00 AM\", \"activity\": \"Visit Manikaran Sahib Gurudwara and enjoy the hot springs.\"},\n        {\"time\": \"01:00 PM\", \"activity\": \"Langar (community kitchen meal) at Manikaran Sahib.\"},\n        {\n          \"time\": \"02:00 PM\",\n          \"activity\": \"Travel to Kasol.\",\n          \"placeName\": \"Kasol\",\n          \"placeDetails\": \"A popular destination for backpackers and nature lovers in Parvati Valley.\",\n          \"placeImageURL\": \"https://example.com/kasol.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 32.0128,\n            \"longitude\": 77.3189\n          },\n          \"ticketPricing\": \"Free to visit\",\n          \"rating\": 4.6,\n          \"timeTakenToTravel\": \"30 minutes from Manikaran\"\n        },\n        {\"time\": \"03:00 PM\", \"activity\": \"Explore Kasol, walk along the Parvati River.\"},\n        {\"time\": \"05:00 PM\", \"activity\": \"Have tea and snacks at a cafe in Kasol.\"},\n        {\"time\": \"06:00 PM\", \"activity\": \"Return to Manali.\"},\n        {\"time\": \"08:30 PM\", \"activity\": \"Dinner at a restaurant in Manali.\"},\n        {\"time\": \"10:00 PM\", \"activity\": \"Return to the hotel.\"}\n      ]\n    },\n    {\n   \"day\": \"Day 5\",\n    \"title\": \"Rohtang Pass (if accessible) or Gulaba/Marhi\",\n      \"bestTimeToVisit\": \"Morning\",\n      \"schedule\": [\n        {\"time\": \"07:00 AM\", \"activity\": \"Early breakfast at the hotel.\"},\n        {\n          \"time\": \"08:00 AM\",\n          \"activity\": \"Travel to Rohtang Pass (permit required, check accessibility).\",\n          \"placeName\": \"Rohtang Pass\",\n          \"placeDetails\": \"High mountain pass offering stunning views of glaciers and snow-capped peaks (check permit requirements and accessibility).\",\n          \"placeImageURL\": \"https://example.com/rohtang_pass.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 32.3766,\n            \"longitude\": 77.2462\n          },\n          \"ticketPricing\": \"Permit required (approx. ₹550 per vehicle)\",\n          \"rating\": 4.7,\n          \"timeTakenToTravel\": \"2-3 hours from Manali\"\n        },\n        {\"time\": \"11:00 AM - 01:00 PM\", \"activity\": \"Enjoy the views and snow activities at Rohtang Pass.\"},\n        {\"time\": \"01:00 PM\", \"activity\": \"Have lunch at a Dhaba near Rohtang Pass.\"},\n        {\n          \"time\": \"02:00 PM\",\n          \"activity\": \"If Rohtang Pass is inaccessible, visit Gulaba or Marhi (alternative snow points).\",\n          \"placeName\": \"Gulaba/Marhi\",\n          \"placeDetails\": \"Snow points offering similar activities if Rohtang Pass is closed.\",\n          \"placeImageURL\": \"https://example.com/gulaba.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 32.3575,\n            \"longitude\": 77.1978\n          },\n          \"ticketPricing\": \"Varies depending on activities.\",\n          \"rating\": 4.3,\n          \"timeTakenToTravel\": \"1.5 hours from Manali\"\n        },\n        {\"time\": \"04:00 PM\", \"activity\": \"Return to Manali.\"},\n        {\"time\": \"07:30 PM\", \"activity\": \"Farewell dinner at a restaurant in Manali.\"},\n        {\"time\": \"09:00 PM\", \"activity\": \"Last night at Hotel.\"}\n      ]\n    }\n  },\n ],\n   \"transportationNotes\": [\n    \"Shared taxis and buses are the most economical mode of transport for intercity travel.\",\n    \"For local sightseeing within Manali, consider hiring a scooter or walking.\",\n    \"Book transportation in advance, especially during peak season.\"\n  ],\n  \"foodRecommendations\": [\n    \"Try Himachali cuisine at local restaurants (Siddu, Dham).\",\n    \"Johnson's Cafe, Casa Bella Vista, and The Lazy Dog are popular dining options.\",\n    \"Explore cafes in Old Manali for a variety of cuisines.\",\n    \"Manikaran Sahib offers a free Langar (community meal).\"\n  ],\n  \"generalTips\": [\n    \"Carry warm clothes, even during summer, as the weather can be unpredictable.\",\n    \"Book accommodations and transportation in advance, especially during peak season.\",\n    \"Check weather forecasts and road conditions before traveling to Rohtang Pass.\",\n    \"Bargain at local markets.\",\n    \"Respect local customs and traditions.\",\n    \"Stay hydrated and avoid overexertion at high altitudes.\"\n  ]\n}\n```"}
            ],
        },


    ],
});
